@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Canary Design System - Base Colors */
    --background: 43 69% 95%; /* #FEF4E9 */
    --surface: 0 0% 100%; /* #FFFFFF */
    --text-primary: 0 0% 13%; /* #222222 */
    --text-secondary: 25 10% 36%; /* #5B4F44 */
    --divider: 41 28% 86%; /* #E8DECF */

    /* Brand Colors */
    --ink-blue: 215 29% 26%; /* #2F4156 */
    --brick-red: 8 38% 49%; /* #B25549 */
    --canary-yellow: 49 100% 64%; /* #FFD44D */

    /* Semantic Colors */
    --success: 132 43% 44%; /* #3FA556 */
    --warning: 46 52% 56%; /* #D9A441 */
    --error: 6 49% 51%; /* #C04B44 */
    --info: 213 36% 36%; /* #3E5C76 */

    /* State Colors */
    --focus-ring: 215 29% 26% / 0.4; /* inkBlue with opacity */
    --overlay-scrim: 0 0% 13% / 0.5; /* #222222 with opacity */
    --disabled-content: 0 0% 13% / 0.4; /* #222222 with opacity */
    --disabled-surface: 42 45% 91%; /* #F5EEE4 */
    --hover-surface: 50 100% 97%; /* #FFF8EF */
    --active-surface: 48 100% 95%; /* #FFF3E3 */

    /* Mapped to Shadcn Variables */
    --foreground: var(--text-primary);
    --card: var(--surface);
    --card-foreground: var(--text-primary);
    --popover: var(--surface);
    --popover-foreground: var(--text-primary);
    --primary: var(--brick-red);
    --primary-foreground: 0 0% 100%;
    --secondary: var(--ink-blue);
    --secondary-foreground: 0 0% 100%;
    --muted: var(--hover-surface);
    --muted-foreground: var(--text-secondary);
    --accent: var(--canary-yellow);
    --accent-foreground: var(--text-primary);
    --destructive: var(--error);
    --destructive-foreground: 0 0% 100%;
    --border: var(--divider);
    --input: var(--divider);
    --ring: var(--focus-ring);

    /* Spacing and Layout */
    --radius: 1rem; /* 16px - lg from design tokens */
    --spacing-unit: 4;

    /* Typography */
    --font-heading: 'Spectral', Georgia, 'Times New Roman', serif;
    --font-body: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

    /* Shadows */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.10), 0 1px 2px rgba(0,0,0,0.06);
    --shadow-md: 0 2px 6px rgba(0,0,0,0.12);
    --shadow-lg: 0 8px 24px rgba(0,0,0,0.18);

    /* Motion */
    --duration-tap: 150ms;
    --duration-fast: 180ms;
    --duration-default: 220ms;
    --duration-slow: 260ms;
    --duration-celebration: 1400ms;
    --easing-in: cubic-bezier(0.4, 0.0, 1, 1);
    --easing-out: cubic-bezier(0.0, 0.0, 0.2, 1);
    --easing-in-out: cubic-bezier(0.4, 0.0, 0.2, 1);

    /* Sidebar (legacy support) */
    --sidebar-background: var(--surface);
    --sidebar-foreground: var(--text-primary);
    --sidebar-primary: var(--ink-blue);
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: var(--hover-surface);
    --sidebar-accent-foreground: var(--text-primary);
    --sidebar-border: var(--divider);
    --sidebar-ring: var(--focus-ring);
  }

  .dark {
    /* Dark Mode Overrides */
    --background: 215 29% 15%; /* Darker ink blue */
    --surface: 215 25% 20%; /* Slightly lighter surface */
    --text-primary: 0 0% 95%; /* Light text */
    --text-secondary: 25 10% 70%; /* Lighter secondary text */
    --divider: 215 20% 30%; /* Darker divider */

    /* Keep brand colors consistent */
    --ink-blue: 215 35% 70%; /* Lighter version for dark mode */
    --brick-red: 8 45% 60%; /* Slightly lighter red */
    --canary-yellow: 49 95% 70%; /* Slightly lighter yellow */

    /* Adjust state colors for dark mode */
    --disabled-surface: 215 25% 18%;
    --hover-surface: 215 25% 25%;
    --active-surface: 215 25% 22%;

    /* Mapped variables update automatically */
    --foreground: var(--text-primary);
    --card: var(--surface);
    --card-foreground: var(--text-primary);
    --popover: var(--surface);
    --popover-foreground: var(--text-primary);
    --muted: var(--hover-surface);
    --muted-foreground: var(--text-secondary);
    --border: var(--divider);
    --input: var(--divider);

    /* Sidebar updates */
    --sidebar-background: var(--surface);
    --sidebar-foreground: var(--text-primary);
    --sidebar-accent: var(--hover-surface);
    --sidebar-accent-foreground: var(--text-primary);
    --sidebar-border: var(--divider);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-body);
  }

  /* Typography Classes */
  .text-h1 {
    font-family: var(--font-heading);
    font-size: 2rem;
    line-height: 2.375rem;
    font-weight: 700;
  }

  .text-h2 {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    line-height: 1.875rem;
    font-weight: 600;
  }

  .text-h3 {
    font-family: var(--font-body);
    font-size: 1.25rem;
    line-height: 1.625rem;
    font-weight: 600;
  }

  .text-body {
    font-family: var(--font-body);
    font-size: 1rem;
    line-height: 1.5rem;
    font-weight: 400;
  }

  .text-small {
    font-family: var(--font-body);
    font-size: 0.875rem;
    line-height: 1.25rem;
    font-weight: 400;
  }

  .text-button {
    font-family: var(--font-body);
    font-size: 1rem;
    line-height: 1.25rem;
    font-weight: 600;
    letter-spacing: 0.025em;
  }

  /* Animation utilities */
  .shake {
    animation: shake 0.5s ease-in-out;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }

  .slide-in {
    animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  @keyframes slideIn {
    from { transform: translateY(30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .pulse-gentle {
    animation: pulseGentle 2s infinite;
  }

  @keyframes pulseGentle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  /* Mobile-first touch targets */
  button, input[type="button"], input[type="submit"] {
    min-height: 44px;
  }

  /* Voice recording animations */
  .recording-pulse {
    animation: recordingPulse 1.5s infinite;
  }

  @keyframes recordingPulse {
    0% { box-shadow: 0 0 0 0 hsl(var(--destructive) / 0.4); }
    70% { box-shadow: 0 0 0 10px hsl(var(--destructive) / 0); }
    100% { box-shadow: 0 0 0 0 hsl(var(--destructive) / 0); }
  }
}